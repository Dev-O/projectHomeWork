<div ng-controller="formController" Style =" padding :20px">

<div id="messages" ng-show="message">{{message}}</div> 
 
  <!-- Form Section-->
<form role="form" name="userForm"   ng-submit="processForm(userForm.$valid)" novalidate="">
  
 <!-- User Name --> 
 
 <div id="name-group" class="form-group" ng-class="{'has-error': userForm.username.$invalid && !userForm.username.$pristine && submitted}">
    <label>User Name :</label>
    <input type="text" name="name" class="form-control" placeholder="Bruce Wayne" ng-model="posting.userName" ng-required="true"></input>
    <p ng-show="userForm.userName.$invalid && !userForm.userName.$pristine && submitted" class="help-block">A user name is required.</p>
  </div>
 
  <!-- Post Text -->
 <div class="form-group" ng-class="{'has-error' : userForm.username.$invalid && !userForm.username.$pristine && submitted}" >
            <label>Post Text :</label>
            <input type="text" name="postText" class="form-control" placeholder="Bruce Wayne" ng-model="posting.postText" ng-minlength="3" ng-maxlength="8" ng-required="true">
       <p ng-show ="userForm.postText.$error.minlength && submitted" class="help-block">Username is too short.</p>
       <p ng-show ="userForm.postText.$error.maxlength && submitted" class="help-block">Username is too long.</p>
       <p ng-show="userForm.postText.$invalid && !userForm.username.$pristine && submitted" class="help-block">Please send a text to server</p>
       
</div>

 <!-- City -->
 <div id="name-group" class="form-group" ng-class="{'has-error' : userForm.username.$invalid && !userForm.username.$pristine && submitted}">
    <label>City :</label>
    <input type="text" name="city" class="form-control" placeholder="Toronto" ng-model="posting.city" ng-required="true"></input>
    <p ng-show="userForm.city.$invalid && !userForm.city.$pristine && submitted" class="help-block">Pls provide a city</p>
  </div>
 
  <!-- SUBMIT BUTTON -->
  <button type="submit" class="btn btn-primary btn-md">
     Submit!</button>
</form>
<br></br>
<div>
<div  ng-repeat="x in arrayOfCars">  
<div ng-if="x.id !== null"  > 
<div style =" border-radius:5px; padding: 15px; background-color: #336699 ">
<p>{{x.project}}</p> 
<p>{{x.id}}</p>
</div><br></br>
</div>
<div  ng-if="x.id == null" > 
<div style =" border-radius: 5px; padding: 15px; background-color: #336699 ">
<p>{{x.project}}</p>
 <form role="form" ng-submit="processUpdate(userForm.$valid)" novalidate>
     <div class="form-group" ng-class="{'has-error' : updateForm.replyText.$invalid && !updateForm.replyText.$pristine && submitted}" >
            <label>Post Text :</label>
            <input type="text" name="replyText" class="form-control" placeholder="Bruce Wayne" ng-model="userTextRep.replyText" ng-minlength="3" ng-maxlength="8" ng-required="true">
       <p ng-show ="updateForm.replyText.$error.minlength && submitted" class="help-block">Username is too short.</p>
       <p ng-show ="updateForm.replyText.$error.maxlength && submitted" class="help-block">Username is too long.</p>
       <p ng-show="updateForm.replyText.$invalid && !updateForm.replyText.$pristine && submitted" class="help-block">Please send a text to server</p>       
</div>
     <button type="submit" class="btn-xs">
    <span class="glyphicon glyphicon-flash"></span> Submit!</button>
  </form>
  </div><br></br>
</div>

</div>

</div>

<br></br>
<p>{{longitude}}</p>
<p>{{latitude}}</p>
<p>{{queryError}}</p>
<p>{{responseData}}</p>
<p>{{FullResponse}}</p>
<p>{{dataPassedAsString}}</p>
<p>{{errorName}}</p>
<p>{{dataChanged}}</p>

</div>

